## Pinterest - социальный интернет-сервис, фотохостинг


# MVP:
1. Регистрация/авторизация
2. Создание и сохранение пинов
3. Лента пинов (Рекомендательная система)
4. Доски
5. Поиск
6. Система фидбеков
7. Чат

# Ключевые решения
1. Хэширование фотографий и видео для предотвращения сохранения копий
2. Система тегов для более точной работы рекомендаций и поиска


# Целевая аудитория

## Метрики вовлеченности:
* MAU  537 M
* DAU   104 M
* Средняя время сессии в день примерно 14.2 минуты (за один визит примерно 5.43 минуты) 
* Каждую неделю пользователи сохраняют более 1,5 миллиарда пинов
* Пользователи могут сохранять до 2000 досок 
* За один визит пользователи в среднем посещают 6.03 страниц
* 82 процента пользователей заходят в Pinterest с мобильных устройств

## Аудитория:
### Распределение по странам:

|№|Страна|Количество пользователей|
|--|-----|--|
|1|United States|98M|
|2|Brazil|40M|
|3|Mexico|26M|
|4|Germany|20M|
|5|France|18M|

### Распределение по возрасту:
|№|Возраст|% пользователей|
|--|-------|--|
|1|25-43|28.2|
|2|18-24|26.1|
|3|35-44|17.69|
|4|55+|15.59|
|5|45-54|12.43|

### Распределение по полу:
|№|Пол|% пользователей|
|--|-----|--|
|1|Женский|71|
|2|Мужской|29|



# Расчет нагрузки:

* Средний вес загружаемой фотографии примерно 7.5 мб
* Средний вес видео примерно 15 мб
* Средний пользователь загружает 0,01 фотографий в день
* Средний пользователь загружает 0,002 видео в день
* Средний пользователь отправляет 1 сообщение в день
* Средний пользователь ставит 5 лайков в день
* Средний пользователь делает 5 репинов в день
* Средний пользователь оставляет 1 комментарий в день
* Кэширование данных для рекомендаций 5 мб



## Средний пользователь использует:

### В день:

* 0,01 * 7.5 мб =   0,075 мб (память на фотографии)
* 0,002 * 15 мб  =  0,03 мб (память на видео)
* 1 * 0,15 кб =  0,15 кб   (память на сообщения)
* 5 * 0,2 кб =   1 кб    (память на лайк)
* 5 * 0,2 кб  =   1 кб    (память на репин)
* 1 * 0,2 кб =    0,2 кб   (память на комментарий)


### За год от одного пользователя требуется сохранить:

* Текст: 3 кб * 365 = 1.07 мб
* Фото: 0,075 * 365 = 27,4 мб
* Видео: 0,03 * 365 = 11 мб

Примерно 50 мб на пользователя в год


### Среднее количество действий пользователя в день:
|Действие|Кол-во в день|
|--|--|
|Создать пин|0,02|
|Смотреть ленту пинов|10|
|Сделать репин|5|
|Оставить комментарий и лайк|5|
|Создать доску|0,5|


## Технические Метрики

### Общий объем за год

611M * 50 мб = 26 850 M мб = 25 петабайт
|Данные|Размер на 1 пользователя за год|Общий размер|
|--|--|--|
|Текст| 1 мб | 0,61 петабайт|
|Фото| 27 мб | 16,5 петабайт|
|Видео| 11 мб | 6,7 петабайт|


### Сетевой трафик

|Тип действия|Объем данных на 1 действие|Среднее число действий в день (на 1 пользователя)|Общий суточный трафик (ПБ/день)|
|--|--|--|--|
|Создание пина | 0,05 | 0,02 мб | 0,05 пб|
|Просмотр ленты | 10 | 3 мб | 1400 пб|
|Сделать Репин | 5 | 0,01 мб | 2,4 пб|
|Оставить фидбек | 5 | 0,1 мб | 23 пб|
|Создать доску | 0,5 | 0,1 мб | 0,05 пб|


### RPS

|Запрос|Суточное количество запросов (млрд)|RPS (на 49 млн DAU)|
|----|----|------|
|Создание спина | 0,001 | 12 |
Просмотр ленты | 0,49 | 5 700 |
Сделать репин | 0,25 | 2 850 |
Оставить фидбек | 0,25 | 2 850 |
Создать доску | 0,025 | 300 |
Итого | 1,016 | 11 712 |


